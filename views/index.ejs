<% layout("/layouts/boilerplate.ejs") %>

<style>
  .filters {
    display: flex;
    align-items: center;
    text-align: center;
    flex-wrap: wrap;
  }
  .filter {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-right: 1.2rem;
    margin: 0.5rem;
    padding: 0.5rem 0 0.5rem 0;
    
  }
  .filter i {
    margin-top: 1rem;
    font-size: 1.5rem;
    color:black;
    opacity: 0.7;
  }
  .filter i:hover {
    opacity: 1;
  }
  .switch {
    font-size: 1.1rem;
    margin-right: 0.5rem;
    border: 1px solid black;
    border-radius: 1.5rem;
    height: 2.7rem;
    padding: 0.5rem 1rem 0.5rem 1rem;
    width: 18rem;
    text-align: center;
    
  }
  .form-check-label {
    margin-right: 1rem;
  }
  .form-check-input {
    position:relative;
    right:1rem;
  }
  .Tax-money {
    display: none;
  }
  .card-text {
    display: inline;
  }
  
</style>
<body>
  <div class="filters">
    <div class="filter">
      <div>
       <a href="/listings/filter?category=Treehouse"><i class="fa-solid fa-fire"></i></a> 
      </div>
      <p>Trending</p>
    </div>
    <div class="filter">
      <div>
        <a href="/listings/filter?category=Treehouse"><i class="fa-solid fa-bed"></i></a>
      </div>
      <p>Tree house</p>
    </div>
    <div class="filter">
      <div>
        <a href="/listings/filter?category=Beachfront"><i class="fa-solid fa-city"></i></a>
      </div>
      <p>Beachfront</p>
    </div>
    <div class="filter">
      <div>
        <a href="/listings/filter?category=Mountain"><i class="fa-solid fa-mountain-city"></i></a>
      </div>
      <p>Mountain</p>
    </div>
    <div class="filter">
      <div>
        <a href="/listings/filter?category=Urban"><i class="fa-solid fa-chess-rook"></i></a>
      </div>
      <p>Urban</p>
    </div>
    <div class="filter">
      <div>
        <a href="/listings/filter?category=Historic"><i class="fa-solid fa-person-swimming"></i></a>
      </div>
      <p>Historic</p>
    </div>
    <div class="filter">
      <div>
        <a  href="/listings/filter?category=Lakefront"><i class="fa-solid fa-tent"></i></a>
      </div>
      <p>Lakefront</p>
    </div>
    <div class="filter">
      <div>
        <a  href="/listings/filter?category=Luxury"><i class="fa-solid fa-tractor"></i></a>
      </div>
      <p>Luxury</p>
    </div>
    <div class="filter">
      <div>
        <a href="/listings/filter?category=Island"><i class="fa-solid fa-igloo"></i></a>
      </div>
      <p>Island</p>
    </div>
    <div class="filter">
      <div>
       <a href="/listings/filter?category=Ski Resort"><i class="fa-solid fa-person-swimming"></i></a>
      </div>
      <p>Ski Resort</p>
    </div>
    <div class="form-check-reverse form-switch ms-auto switch">
      <input
        class="form-check-input"
        type="checkbox"
        role="switch"
        id="switchCheckChecked"
        unchecked
      />
      <label class="form-check-label" for="switchCheckChecked"
        >Display total before taxes</label
      >
    </div>
  </div>
  <h2>All Listings</h2>
  <div class="row row-cols-lg-3 row-cols-md-3 row-col-sm-2">
    <%for(let listing of allListings){%>
    <a href="/listings/<%=listing._id%>" class="show-card">
      <div class="card col listing-card">
        <img
          src="<%=listing.image.url%>"
          class="card-img-top"
          alt="image"
          style="height: 20rem"
        />
        <div class="card-img-overlay">RinkuSahani</div>
        <div class="card-body">
          <h5 class="card-title"><%=listing.title%></h5>
          <div class="card-text">&#8377;<%=listing.price%>/night</div>
          <div class="Tax-money">+18% GST</div>
        </div>
      </div>
    </a>

    <% }%>
  </div>
</body>

<script>
  let switchIcon = document.getElementById("switchCheckChecked");
  switchIcon.addEventListener("click", () => {
    let taxInfo = document.getElementsByClassName("Tax-money");
    for (let info of taxInfo) {
      if (info.style.display != "inline") {
        info.style.display = "inline";
      } else {
        info.style.display = "none";
      }
    }
  });
</script>
